testing patch top today s cv  patch nt help  following result test  testing setup  number  created  devmdnumber  number scsi disk number  created lvm volume group  vg   devmdnumber  number  created lvm logical volume  volnumber   vg  number  created xfs f command  httpaddr f d sunitnumber  swidthnumber devvgvolnumber      metadatadevvgvolnumber isizenumber agcountnumber  agsizenumber blks      data  bsizenumber blocksnumber  imaxpctnumber        sunitnumber swidthnumber blks  unwrittennumber      naming version number bsizenumber      log internal log bsizenumber blocksnumber  versionnumber        sunitnumber blks      realtime none extsznumber blocksnumber  rtextentsnumber test result  number  mount quota enabled   occasional kernel oops  attached file oopsnumber number  mount without quota enabled   occasional kernel oops  attached file oopsnumber number  mount without quota enabled  md device degraded mode   always kernel oops  attached file oopsnumber thanks  jlee    original message      eric sandeen    james lee  cc   sent  tuesday  august number  number number  number pm subject   kernel bug filemapc  number   hi guy    treat md lvm somewhat specially  wonder case md  masking fact re using lvm  might  problem start    try patch  cause lvm  md treated   see help  s probably final solution   might offer hint    thanks    eric     linuxfsxfspagebufpagebuflockingcnumbernumber tue aug number number  number  number number   linuxfsxfspagebufpagebuflockingc tue aug number number  number  number number    number  number number  number    pagebuftargetblocksize  target  pagecachesize       major  dev   mdmajor    major  dev   evmsmajor     target  pbrflags  pbralignedonly    target  pbrflags  pbrsectoronly   else  major  dev   lvmblkmajor   target  pbrflags  pbrsectoronly   else     mon  numbernumbernumber number  number  james lee wrote    hi      m also exactly problem    tested numbernumbernumberxfs  checked sgi s cv aug number  redhat numbernumber    kernel userland tool compiled gcc numbernumbernumber   following result test      scsidisks   xfs  ok   scsidisks   raidnumber   xfs  ok   scsidisks   lvm   xfs  ok   scsidisks   raidnumber   lvm   xfs  ok   scsidisks   raidnumber   lvm   xfs  ok   scsidisks   raidnumber   lvm   xfs  kernel bug filemapc  number      problem always reproducible following shell script        binsh   mkraid devmdnumber   vgcreate volumegroup devmdnumber   lvcreate lnumberg ntestvolume volumegroup   httpaddr f d sizenumberm devvolumegrouptestvolume   mount t xfs devvolumegrouptestvolume   mnt onoatime  nodiratime  usrquota  grpquota     whenever run script  mount command always generates kernel oops     insert delay following  mount go well       eric sandeen xfs linux httpaddr  httpaddr sgi  inc numbernumbernumber begin number httpaddr m  numbers  numberdb rcnumbern  numberdm   number   anumbertdgnumbertnumbert  numberw  enumberenumber    b   w   vnumber  mnumber  number   l  numberl  o  numbert  numberuenumberuo  w     n  xq    n   dv  number   bxtcdollaryb  numberw   number  nnumbert mnumbertn  number  pnumber  n  xqnumber hnumber  numberfnumberl    eanumberub  vp   numberyf  w  mnumberi  vxn      i   p  numbersnumberue  numberhnumber    ae   qonumberr  mnumberc   number  numberhnumber  knumber  nnumberp  mnumberyd   uonumbernumberlnumber     aa   anumberuo  w    ut   numberlnumberc  rnumberds  number  mnumberdollar   number  x   numberdq  numberu  z   p   dollarp  cnumberv  fnumbera   h  numbersdollarynumberb      enumberg  z    p  vdollarwnumber  dollart    numberxb p   p   qb    numberd   h    p   p    numberi mb  c  number  p   numbercnumberr    numberd  numberh  numbercnumberf  fnumberf  c     enumberg z   p   p   q    mnumberpb  fnumberd  numberdy  idnumbermanumberrq  number   enumberrnumberer  c    tcnumberxnumber   numbersnumberw  enumber  numbergnumberf  sevnumberp m  inumber  numbersnumberw  enumbersnumberblx    c   x  number   anumbervnumber     p  cbnumbert   qxnumberg  numbervuonumberyt mnumberg  knumbertnumberu  numberv  l   l  rs  x  numberv  dnumberl     p  number  bnumber  numberv   qu  fqonumbervm   numberfnumberfnumberfnumberfnumbera   numberenumberw  i  numberenumberw   numberv  dnumberl     p  number  bnumber  numberc   qu  fqonumbervm   numberh  number  numberdl  numbera    vnumberer  number q  f  dnumberdollar  numbern    c  u  pnumbere  snumberqs  number   anumbertdgnumbertnumbert  vet    qnumber  tnumber  e  f  b   numberd m   c  number   uf   ud  u  fetnumber  lnumber  u   a  b  gnumber   number  rnumber  anumbervu   lnumberen  h  number snumberd  number     enumberw  z   p   p   dollarv    numberxb p   p   p  ie  number mnumberv  u   ms     b  r  b    enumberrnumberer  c    f  number  ynumber    numbersnumberw  mnumberw  u  wnumberanumbervaenumbervlknumbersdo  numberp  inumber  numbersnumbervuonumberyt mnumberg  knumberc  bsdollarp     enumberrnumberer  c     snumberbnumberb    numbersnumberw  enumbersnumberblsnumberb  c   x  number   anumbervnumber     p  c  ss p   qxnumberg  number   number  u  gnumberknumbero  number p  inumber   vnumberer  number q  f  dnumber   numbern    c  u  pnumbere  snumberys  dl  numberc    vnumberer  number q  f  dnumber    numbern    c  u  pnumbere  snumbercs   r      numberp    p  numbera    vnumberer  number q  f  dnumber  number  numbern    c  u  pnumbere  snumberes  pp   numberh  number  numberd  numberv  dnumberl     p  number  bnumber  numbert   qu  fqonumbervm    pb  c   dollarrnumberfnumberfb numberyl  vknumberw  anumbervnumberkcnumberos   do mnumber  number     c   dollarrnumberfnumbereb numberyl  vknumberw  anumbervnumberknumberos   b   number z    number                           p  w      numberb    vnumberer  number q  f  dnumber   vnumberer  number q  f  mnumberd  numbern    c  u  pnumbere  snumberys   r      numberenumber  l   numberenumber    h  b  wnumber  n  numberygnumber  n  wnumber  numberfnumber   number   anumbertdgnumbertnumbert  numberw  enumberenumber    b   w   vnumber  mnumber  number   l  numberl  h  numberqe  dollarudollar   e   en   numberenumberw  anumber  numberd   uonumber  number  numberqwnumberes   e  fnumberrnumbere  number   uf   ud  u  fetnumber  lnumberuo  w     numbert  mnumbert  numbert  numbert  numbert  numbert  numberiknumberus   adnumberanumberqt  numberh       ul    pnumberub  vp  number  tnumberql  numberyg   ue  numberhnumber  knumber  nnumberp  fnumberrnumberus   numbertnumberrx    m  numberuo  w    uh   numberx  h    p   p  number     enumber   z   p   p   p  fnumbers  numberh  number  c    anumbers      enumber  dz   numberf   eenumber  p    number  pb p   p   p  number    numbersnumbermanumberrq  number   enumberrnumberer  c    tcnumberxnumber   numbersnumberw  enumbersnumberblr  number  c   x  number   anumbervnumber     p  cbnumber  numbere   qxnumberg  numbervuonumberytnumberg  k  vnumberesnumberq   x  number   mnumbervnumber     p  cc    b   qxnumberg   number  u  gnumberk   oc   enumberrnumberer  c    tnumberr mb    enfnumbersnumberw  enumber  number   number  u  gnumberknumbero  number p  inumber   vnumberer  number q  f  dnumber   numbern    c  u  pnumbere  snumberys  dl  numberc    vnumberer  number q  f  dnumber    numbern    c  u  pnumbere  snumbercs   r      numberp    p  numbera    vnumberer  number q  f  dnumber  number  numbern    c  u  pnumbere  snumberes  pp   numberh  number  numberd  numberv  dnumberl     p  number  bnumber  numbert   qu  fqonumbervm    pb  c   dollarrnumberfnumberfb numberyl  vk mnumberw  anumbervnumberkcnumberos   donumber  number     c   dollarrnumberfnumbereb numberyl  vknumberw  anumbervnumberknumbero ms   b   number z    number                           p  w      numberb    vnumberer  number q  f  dnumber   vnumberer  number q  f  dnumberd  numbern    c  u  pnumbere  snumberys   r      numberenumber  l   numberenumber    h  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numbert  numberh   end
